{"version":3,"sources":["reportWebVitals.ts","Services/firebase.ts","Hooks/useAuth.tsx","Hooks/useProducts.tsx","Pages/Home/home--top-bg.png","Components/Footer/Footer.tsx","appConf.tsx","Components/ProductsList/ProductsList.tsx","Pages/Productos/Nuevo/Nuevo.tsx","index.tsx","Pages/Home/Home.tsx","Pages/Productos/Transferir/Transferir.tsx","Pages/Productos/Productos.tsx","Pages/Productos/Detalles/Detalles.tsx","Pages/ComoFunciona/ComoFunciona.tsx","Pages/Login/Login.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","productDB","collection","addNewProduct","data","a","addDoc","updateProducts","id","updateData","docRef","doc","Date","updateDoc","timestampToDate","timestamp","toDate","auth","getAuth","provider","GoogleAuthProvider","ctx","user","signInWithGoogle","signOut","canCreate","setCanCreate","Context","createContext","useAuth","useContext","AuthProviders","children","useState","setUser","signInWithRedirect","response","onAuthStateChanged","Provider","value","singOutFromProvider","catch","error","console","initialProps","products","updateProduct","addProduct","addTransactions","displayName","useProducts","ProductsProvider","setProducts","useEffect","filter","item","dates","created","length","email","q","query","where","getDocs","forEach","docID","updated","transactions","map","trans","date","push","sort","b","getTime","getProducts","getProductData","newItem","items","newProduct","type","brand","model","description","state","owner","from","docId","to","newTransaction","pro","modifiedPro","log","prev","Footer","className","style","gap","onClick","appConf","cantCreateProductMessage","product","errorProductIdExist","types","ProductsList","filterProducts","itemSates","Normal","icon","Desechado","textDecoration","color","Denunciado","Registrado","toLocaleLowerCase","title","formatDistance","addSuffix","locale","es","margin","letterSpacing","borderRadius","initialFormData","ReactDOM","render","StrictMode","exact","path","component","go","useHistory","backgroundImage","bgTop","productsTypes","history","formData","setFormData","ids","handleFormChanges","event","currentTarget","name","includes","setCustomValidity","onSubmit","preventDefault","handleFormSubmit","htmlFor","onChange","required","disabled","isValid","setIsValid","ownerConfirm","accept","transactionType","inputState","setInputState","setProduct","useParams","selectProduct","evt","target","placeholder","textTransform","textAlign","fontWeight","validKey","setValidKey","unsaved","setUnsaved","publicKeyExpiration","isExpiredDate","handleSaveChange","handleChangeSate","createShareKey","today","expiration","addDays","publicKey","now","isAfter","display","justifyContent","index","toLocaleString","handleDescriptionChanges","rows","document","getElementById"],"mappings":"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","file":"static/js/main.aa298a96.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { initializeApp } from 'firebase/app';\nimport { addDoc, collection, doc, DocumentData, getFirestore, Timestamp, updateDoc } from \"firebase/firestore\"\nimport { iProduct } from '../Interfaces/iDatabase';\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCaBB95IOyfGTCuRnLFrtg3KQiL4myiGA4\",\n  authDomain: \"noesrobado-app.firebaseapp.com\",\n  databaseURL: \"https://noesrobado-app-default-rtdb.firebaseio.com\",\n  projectId: \"noesrobado-app\",\n  storageBucket: \"noesrobado-app.appspot.com\",\n  messagingSenderId: \"96848561278\",\n  appId: \"1:96848561278:web:1173f14988816e4573442f\",\n  measurementId: \"G-Y31PM071CX\"\n};\nexport const firebaseApp = initializeApp(firebaseConfig);\nexport const db = getFirestore();\n\nexport const productDB = collection(db, 'products')\n\nexport const addNewProduct = async (\n  data: DocumentData\n) =>\n  await addDoc(productDB, data)\n\n\nexport const updateProducts = async (id: string, updateData: Partial<iProduct>) => {\n  const docRef = doc(db, 'products', id)\n  const data = {\n    ...updateData,\n    'dates.updated': new Date(),\n  }\n  await updateDoc(docRef, data)\n}\n\nexport const timestampToDate = (timestamp: Timestamp | Date): Date => {\n  const date = timestamp as Timestamp\n  return date.toDate()\n}\n\n","import React, { createContext, useContext } from 'react'\nimport { useState } from 'react'\nimport {\n  getAuth,\n  onAuthStateChanged,\n  GoogleAuthProvider,\n  signInWithRedirect,\n  signOut as singOutFromProvider,\n  User,\n} from 'firebase/auth'\n\nconst auth = getAuth()\n// auth.languageCode = 'es'\nconst provider = new GoogleAuthProvider()\n\ninterface iCtx {\n  user: User | null\n  signInWithGoogle: Function\n  signOut: Function\n  canCreate: boolean\n  setCanCreate: React.Dispatch<React.SetStateAction<boolean>>\n}\nconst ctx: iCtx = {\n  user: null,\n  signInWithGoogle() {},\n  signOut() {},\n  canCreate: false,\n  setCanCreate() {},\n}\n\nconst Context = createContext(ctx)\n\nexport const useAuth = () => useContext(Context)\n\nexport const AuthProviders = ({ children }: { children: React.ReactNode }) => {\n  const [canCreate, setCanCreate] = useState(true)\n  const [user, setUser] = useState<User | null>(null)\n\n  const signInWithGoogle = async () => {\n    const response = await signInWithRedirect(auth, provider)\n    setUser(response)\n  }\n\n  const signOut = () => {\n    singOutFromProvider(auth).catch(error => console.error(error))\n  }\n\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      setUser(user)\n    } else {\n      setUser(null)\n    }\n  })\n\n  return (\n    <Context.Provider\n      value={{ user, signInWithGoogle, signOut, canCreate, setCanCreate }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n","import { useEffect, useState, createContext, useContext } from 'react'\nimport { getDocs, query, Timestamp, where } from 'firebase/firestore'\nimport { updateProducts, addNewProduct, productDB } from '../Services/firebase'\nimport { timestampToDate } from '../Services/firebase'\n\n// Interfaces\nimport {\n  iProduct,\n  iTransactions,\n  iTransactionsType,\n} from '../Interfaces/iDatabase'\n\n// Hook\nimport { useAuth } from './useAuth'\n\ninterface initialPropsTypes {\n  products: iProduct[]\n  updateProduct: Function\n  addProduct: Function\n  addTransactions: Function\n}\n\nconst initialProps: initialPropsTypes = {\n  products: [],\n  updateProduct() {},\n  addProduct() {},\n  addTransactions() {},\n}\nconst Context = createContext<typeof initialProps>(initialProps)\nContext.displayName = 'Products of user'\n\nexport const useProducts = () => useContext(Context)\n\nexport const ProductsProvider = ({\n  children,\n}: {\n  children: React.ReactNode\n}) => {\n  const [products, setProducts] = useState<iProduct[]>([])\n  const { user, setCanCreate } = useAuth()\n\n  useEffect(() => {\n    // Check if user can create new products\n    const twoDayAgo = products.filter(\n      item => (+new Date() - +item.dates.created) / 24 / 60 / 60000 < 2\n    )\n    if (twoDayAgo.length >= 2) setCanCreate(false)\n  }, [products, setCanCreate])\n\n  useEffect(() => {\n    if (!user || !user.email) return\n    const getProducts = async () => {\n      let data: iProduct[] = []\n\n      const q = query(productDB, where('owner', '==', user.email))\n      const querySnapshot = await getDocs<iProduct>(q)\n\n      querySnapshot.forEach(doc => {\n        const item: iProduct = {\n          docID: doc.id,\n          ...doc.data(),\n          dates: {\n            created: timestampToDate(\n              doc.data().dates.created as unknown as Timestamp\n            ),\n            updated: timestampToDate(\n              doc.data().dates.updated as unknown as Timestamp\n            ),\n          },\n        }\n        item.transactions?.map(\n          trans =>\n            (trans.date = timestampToDate(trans.date as unknown as Timestamp))\n        )\n\n        data.push(item)\n      })\n      // Sort by created date\n      data.sort((a, b) => a.dates.created.getTime() - b.dates.created.getTime())\n\n      setProducts(data)\n    }\n    getProducts()\n  }, [user, setCanCreate])\n\n  /**\n   * Add new product\n   */\n  const addProduct = ({\n    id,\n    type,\n    brand,\n    model,\n    description,\n  }: iRegisterProduct) => {\n    const newProduct: iProduct = {\n      id,\n      type,\n      brand,\n      model,\n      description,\n      state: 'Normal',\n      owner: user!.email!,\n      transactions: [\n        {\n          date: new Date(),\n          from: user!.email!,\n          type: 'Registro',\n        },\n      ],\n      dates: {\n        created: new Date(),\n        updated: new Date(),\n      },\n    }\n\n    try {\n      const result = addNewProduct(newProduct)\n      result.then(doc =>\n        setProducts([{ ...newProduct, docID: doc.id }, ...products])\n      )\n    } catch (error) {\n      console.error('Error adding document: ', error)\n    }\n  }\n\n  const getProductData = (id: string) =>\n    products.filter(item => item.docID === id)[0]\n\n  /**\n   * Update product\n   */\n  const updateProduct = async (\n    id: string,\n    data: { description: string }\n  ): Promise<boolean> => {\n    // Get Product\n    const item = getProductData(id)\n    const newItem = { ...item, ...data }\n\n    try {\n      // Save Product\n      updateProducts(id, data)\n      setProducts(items => [\n        newItem,\n        ...items.filter(item => item.docID !== id),\n      ])\n      // const docRef = doc(db, dbName, `${newItem.docID}`)\n      // await updateDoc(docRef, { ...data })\n    } catch (error) {\n      console.error(error)\n      return false\n    }\n    return true\n  }\n\n  /**\n   * addTransactions\n   */\n  const addTransactions = (\n    docId: string,\n    type: iTransactionsType,\n    to: string\n  ) => {\n    const date = new Date()\n    const from = user!.email!\n\n    const newTransaction: iTransactions = {\n      date,\n      from,\n      to,\n      type,\n    }\n    const pro = products.filter(item => item.docID === docId)[0]\n    const modifiedPro: iProduct = {\n      ...pro,\n      dates: {\n        ...pro.dates,\n        updated: new Date(),\n      },\n      owner: to,\n      transactions: [newTransaction, ...pro.transactions!],\n    }\n    console.log(\n      docId,\n      products.filter(item => item.docID !== docId)\n    )\n\n    setProducts(prev => prev.filter(item => item.docID !== docId))\n    updateProducts(docId, { ...modifiedPro })\n  }\n\n  return (\n    <Context.Provider\n      value={{ products, updateProduct, addProduct, addTransactions }}\n    >\n      {children}\n    </Context.Provider>\n  )\n}\n\nexport interface iRegisterProduct {\n  id: string\n  type: string\n  brand: string\n  model: string\n  description?: string\n}\n","export default __webpack_public_path__ + \"static/media/home--top-bg.ddddf99d.png\";","// Hooks\nimport { Link } from 'react-router-dom'\nimport { useAuth } from '../../Hooks/useAuth'\n\nexport const Footer = () => {\n  const { user, signInWithGoogle, signOut } = useAuth()\n\n  const toggleAuth = () => (!!user ? signOut() : signInWithGoogle())\n  return (\n    <footer className=\"bg-primary\" style={{ gap: '1em' }}>\n      <Link to=\"/\" onClick={() => toggleAuth()} className=\"upper\">\n        {!!user ? user.displayName : 'ingresar'}\n      </Link>\n    </footer>\n  )\n}\n","import { iTransactionsType } from './Interfaces/iDatabase'\n\nexport const appConf: iConf = {\n  user: {\n    cantCreateProductMessage: 'Puede crear sólo 2 productos diarios.',\n  },\n  product: {\n    errorProductIdExist:\n      'El número de série ingresado ya ha sido usado en otro producto',\n    types: [\n      'Teléfono Móvil',\n      'Notebook',\n      'Cámara de Fotos',\n      'Bicicleta',\n      'Artículo Fotográfico',\n      'Electrodomésticos',\n    ],\n  },\n  transactions: {\n    types: ['Venta', 'Regalo', 'Transferencia', 'Registro'],\n  },\n}\n\ninterface iConf {\n  user: {\n    cantCreateProductMessage: string\n  }\n  product: {\n    errorProductIdExist: string\n    types: string[]\n  }\n  transactions: {\n    types: iTransactionsType[]\n  }\n}\n","import { formatDistance } from 'date-fns'\nimport { es } from 'date-fns/locale'\n\n// Hooks\nimport { useProducts } from '../../Hooks/useProducts'\nimport { Link } from 'react-router-dom'\n\n// Interfaces\nimport { iProductState } from '../../Interfaces/iDatabase'\ninterface iProps {\n  filterProducts?: iProductState | 'Todos'\n}\n\nexport const ProductsList: React.FC<iProps> = ({\n  filterProducts = 'Todos',\n}) => {\n  const { products } = useProducts()\n\n  const itemSates: any = {\n    Normal: {\n      style: {},\n      icon: 'check_circle',\n    },\n    Desechado: {\n      style: {\n        textDecoration: 'line-through',\n        color: 'darkgrey',\n      },\n      icon: 'delete',\n    },\n    Denunciado: {\n      style: {\n        color: 'var(--color-danger)',\n      },\n      icon: 'warning',\n    },\n    Registrado: {\n      style: {\n        color: 'var(--color-dark)',\n      },\n      icon: 'check_circle',\n    },\n  }\n\n  return (\n    <ul>\n      {products\n        .filter(item =>\n          filterProducts === 'Todos' ? item : item.state === filterProducts\n        )\n        .map(item => (\n          <li\n            key={item.id}\n            className={`${item.state.toLocaleLowerCase()} box-shadow---NO`}\n            title={`Propietario desde ${formatDistance(\n              item.dates.created,\n              new Date(),\n              {\n                addSuffix: true,\n                locale: es,\n              }\n            )}\\nNúmero de série: ${item.id}`}\n            style={{\n              margin: '1.5em 0',\n              letterSpacing: 2,\n              borderRadius: 15,\n            }}\n          >\n            <Link\n              to={'/producto/' + item.docID}\n              style={{ ...itemSates[item.state].style }}\n            >\n              {item.type} {item.brand} {item.model}\n            </Link>\n          </li>\n        ))}\n    </ul>\n  )\n}\n","import { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\n\n// Data\nimport { appConf } from '../../../appConf'\n\n// Styles\nimport './main.css'\n\n// Interfaces\nimport { useProducts } from '../../../Hooks/useProducts'\nimport { iProduct } from '../../../Interfaces/iDatabase'\nimport { useAuth } from '../../../Hooks/useAuth'\n\nconst initialFormData: Partial<iProduct> = {\n  id: '',\n  type: 'Bicicleta',\n  brand: '',\n  model: '',\n  description: '',\n}\nexport const Nuevo = () => {\n  const productsTypes = appConf.product.types\n  const { canCreate } = useAuth()\n  const history = useHistory()\n  const { products, addProduct } = useProducts()\n  const [formData, setFormData] = useState(initialFormData)\n  const ids = products.map(item => item.id)\n\n  const handleFormChanges = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\n    >\n  ) => {\n    const { name, value } = event.currentTarget\n    if (name === 'id' && ids.includes(value))\n      event.currentTarget.setCustomValidity(appConf.product.errorProductIdExist)\n    else event.currentTarget.setCustomValidity('')\n\n    setFormData(state => ({\n      ...state,\n      [name]: value,\n    }))\n  }\n\n  const handleFormSubmit = (\n    event: React.FormEvent<HTMLFormElement>\n  ): boolean => {\n    event.preventDefault()\n\n    addProduct({ ...formData })\n    history.push('/productos/')\n    return true\n  }\n\n  return (\n    <main className=\"productos\">\n      <div className=\"productos--top bg-primary flex-center upper box-shadow border-radius-bottom\">\n        <h2>Productos nuevo</h2>\n      </div>\n\n      <div className=\"productos--bottom\">\n        <form onSubmit={event => handleFormSubmit(event)}>\n          <fieldset>\n            <label htmlFor=\"type\">Tipo de producto</label>\n            <select\n              value={formData.type}\n              onChange={event => handleFormChanges(event)}\n              name=\"type\"\n              id=\"type\"\n            >\n              {productsTypes.sort().map(item => (\n                <option key={item} value={item}>\n                  {item}\n                </option>\n              ))}\n            </select>\n\n            <label htmlFor=\"brand\">Marca o fabricante</label>\n            <input\n              value={formData.brand}\n              onChange={event => handleFormChanges(event)}\n              type=\"text\"\n              name=\"brand\"\n              id=\"brand\"\n              required\n            />\n\n            <label htmlFor=\"model\">Modelo</label>\n            <input\n              value={formData.model}\n              onChange={event => handleFormChanges(event)}\n              type=\"text\"\n              name=\"model\"\n              id=\"model\"\n              required\n            />\n\n            <label htmlFor=\"id\">Número de serie o uid</label>\n            <input\n              value={formData.id}\n              onChange={event => handleFormChanges(event)}\n              type=\"text\"\n              name=\"id\"\n              id=\"id\"\n              required\n            />\n\n            <label htmlFor=\"description\">\n              Descripción que ayude a identificar el producto o aporte\n              información de interés\n            </label>\n            <textarea\n              value={formData.description}\n              onChange={handleFormChanges}\n              name=\"description\"\n              id=\"description\"\n            ></textarea>\n            <button type=\"submit\" className=\"danger\" disabled={!canCreate}>\n              Registrar Producto\n            </button>\n            {!canCreate && (\n              <div style={{ color: 'darkred' }}>\n                <small>{appConf.user.cantCreateProductMessage}</small>\n              </div>\n            )}\n          </fieldset>\n        </form>\n      </div>\n      <footer className=\"bg-primary left\">\n        <Link to=\"/productos\" className=\"left upper outlined\">\n          ← Atrás\n        </Link>\n      </footer>\n    </main>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport './Services/firebase'\n\n// Styles\nimport './main.css'\nimport './helpers.css'\n\n// Providers\nimport { AuthProviders } from './Hooks/useAuth'\nimport { ProductsProvider } from './Hooks/useProducts'\n\n// Components\nimport { Home } from './Pages/Home/Home'\nimport { Productos } from './Pages/Productos/Productos'\nimport { Nuevo } from './Pages/Productos/Nuevo/Nuevo'\nimport { Detalles } from './Pages/Productos/Detalles/Detalles'\nimport { Transferir } from './Pages/Productos/Transferir/Transferir'\nimport { ComoFunciona } from './Pages/ComoFunciona/ComoFunciona'\nimport { Login } from './Pages/Login/Login'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProviders>\n      <ProductsProvider>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            <Route exact path=\"/productos/nuevo\" component={Nuevo} />\n            <Route\n              exact\n              path=\"/productos/transferir/:id\"\n              component={Transferir}\n            />\n            <Route exact path=\"/productos/\" component={Productos} />\n            <Route exact path=\"/producto/:id\" component={Detalles} />\n            <Route exact path=\"/como-funciona/\" component={ComoFunciona} />\n            <Route exact path=\"/login\" component={Login} />\n          </Switch>\n        </Router>\n      </ProductsProvider>\n    </AuthProviders>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","// Styles\nimport './main.css'\n\n// Resources\nimport bgTop from './home--top-bg.png'\n\n// Hooks\nimport { useAuth } from '../../Hooks/useAuth'\n\n// Component\nimport { Footer } from '../../Components/Footer/Footer'\nimport { Link, useHistory } from 'react-router-dom'\n\nexport const Home: React.FC = () => {\n  const go = useHistory()\n  const { user, signInWithGoogle } = useAuth()\n  return (\n    <>\n      <main className=\"home\">\n        <div\n          className=\"home--top flex-center\"\n          style={{ backgroundImage: `url(${bgTop})` }}\n        >\n          <h1 className=\"upper\">se parte</h1>\n          <p className=\"upper\">de una sociedad mas segura</p>\n          <br />\n          <div className=\"right\">\n            <Link to=\"/como-funciona/\">leé cómo funciona →</Link>\n          </div>\n        </div>\n        <div className=\"home--bottom bg-primary box-shadow border-radius-top\">\n          <div className=\"home--bottom--top\">\n            <div>\n              <h4 className=\"upper\">compra y vende de forma</h4>\n              <h2 className=\"upper\">segura</h2>\n            </div>\n          </div>\n          <div className=\"home--bottom--center\">\n            {!!user ? (\n              <button onClick={() => go.push('/productos/')}>\n                Ver mis productos'\n              </button>\n            ) : (\n              <button onClick={() => signInWithGoogle()}>\n                Registrar mis productos\n              </button>\n            )}\n            <p>\n              Registrá tus productos para generar una traza que ayude a\n              verificar la procedencia genuina.\n            </p>\n          </div>\n          <div className=\"home--bottom--bottom\">\n            <div className=\"display-info-container\">\n              <div className=\"display-info-item-light\" title=\"Usuarios activos\">\n                <span className=\"material-icons-outlined\">face</span>\n                <span>12.000+</span>\n              </div>\n\n              <div\n                className=\"display-info-item-light\"\n                title=\"Productos registrados\"\n              >\n                <span className=\"material-icons-outlined\">directions_bike</span>\n                <span>40.000+</span>\n              </div>\n\n              <div\n                className=\"display-info-item-light\"\n                title=\"Consultas de estado\"\n              >\n                <span className=\"material-icons-outlined\">person_search</span>\n                <span>2.000+</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </main>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link, useHistory, useParams } from 'react-router-dom'\n\n// Config\nimport { appConf } from '../../../appConf'\n\n// Styles\nimport './main.css'\n\n// Interfaces\nimport { iProduct } from '../../../Interfaces/iDatabase'\n\n// Hooks\nimport { useProducts } from '../../../Hooks/useProducts'\nimport { useAuth } from '../../../Hooks/useAuth'\n\nexport const Transferir: React.FC = () => {\n  const history = useHistory()\n  const [isValid, setIsValid] = useState(false)\n  const [inputState, setInputState] = useState({\n    owner: '',\n    ownerConfirm: '',\n    accept: '',\n    transactionType: 'Venta',\n  })\n  const { user } = useAuth()\n  const [product, setProduct] = useState<iProduct | null>(null)\n  const { products, addTransactions } = useProducts()\n  let { id } = useParams<{ id: string }>()\n\n  useEffect(() => {\n    const { owner, ownerConfirm, accept } = inputState\n    if (\n      accept.toLocaleLowerCase() === 'confirmar' &&\n      !!owner &&\n      owner === ownerConfirm\n    ) {\n      setIsValid(true)\n    }\n  }, [inputState])\n\n  useEffect(() => {\n    if (!!products) {\n      const selectProduct = products.filter(item => item.docID === id)[0]\n      setProduct(selectProduct)\n    }\n  }, [id, products])\n\n  const handleConfirm = () => {\n    addTransactions(id, inputState.transactionType, inputState.owner)\n    history.push('/productos/')\n  }\n\n  return (\n    <main className=\"product-transfer\">\n      <div className=\"product-transfer--top bg-primary border-radius-bottom box-shadow upper\">\n        <h3>transferir</h3>\n      </div>\n      <div className=\"product-transfer-bottom\">\n        <h4>\n          {product?.type} {product?.brand} {product?.model}\n          <br />\n          Propiedad de {user?.displayName}\n        </h4>\n\n        <label htmlFor=\"transactionType\">Tipo de transacción</label>\n        <select\n          name=\"transactionType\"\n          id=\"transactionType\"\n          value={inputState.transactionType}\n          onChange={evt =>\n            setInputState({\n              ...inputState,\n              [evt.target.name]: evt.target.value,\n            })\n          }\n        >\n          {appConf.transactions.types\n            .filter(item => item !== 'Registro')\n            .map(item => (\n              <option value={item} key={item}>\n                {item}\n              </option>\n            ))}\n        </select>\n\n        <label htmlFor=\"owner\">Transferir a:</label>\n        <input\n          required\n          value={inputState.owner}\n          type=\"email\"\n          name=\"owner\"\n          id=\"owner\"\n          placeholder=\"Email del destinatario\"\n          onChange={evt =>\n            setInputState({\n              ...inputState,\n              [evt.target.name]: evt.target.value,\n            })\n          }\n        />\n\n        <label htmlFor=\"ownerConfirmation\">Confirma el email</label>\n        <input\n          required\n          value={inputState.ownerConfirm}\n          type=\"email\"\n          name=\"ownerConfirm\"\n          id=\"ownerConfirmation\"\n          placeholder=\"Confirme email del destinatario\"\n          onChange={evt =>\n            setInputState({\n              ...inputState,\n              [evt.target.name]: evt.target.value,\n            })\n          }\n        />\n\n        <p style={{ color: 'darkred' }}>\n          Verifique el email del destinatario, esta acción no puede deshacerse\n        </p>\n\n        <label htmlFor=\"accepted\">\n          Para confirmar, escriba:\n          <b> confirmar</b>\n        </label>\n        <input\n          value={inputState.accept}\n          type=\"text\"\n          name=\"accept\"\n          id=\"accepted\"\n          style={{\n            textTransform: 'lowercase',\n            textAlign: 'center',\n            color: 'darkred',\n            fontWeight: 'bold',\n          }}\n          onChange={evt =>\n            setInputState({\n              ...inputState,\n              [evt.target.name]: evt.target.value,\n            })\n          }\n        />\n        {isValid && (\n          <button className=\"danger upper\" onClick={() => handleConfirm()}>\n            Realizar Transferencia\n          </button>\n        )}\n      </div>\n\n      <footer className=\"bg-primary left upper\">\n        <Link to={`/producto/${id}`}>← Atrás</Link>\n      </footer>\n    </main>\n  )\n}\n","import { appConf } from '../../appConf'\nimport { Link, useHistory } from 'react-router-dom'\n\n// Styles\nimport './main.css'\n\n// Components\nimport { ProductsList } from '../../Components/ProductsList/ProductsList'\nimport { useAuth } from '../../Hooks/useAuth'\n\nexport const Productos = () => {\n  const { canCreate } = useAuth()\n  const history = useHistory()\n  return (\n    <main className=\"productos\">\n      <div className=\"productos--top bg-primary flex-center upper box-shadow border-radius-bottom\">\n        <h2>Productos</h2>\n      </div>\n\n      <div className=\"productos--bottom\">\n        <button\n          disabled={!canCreate}\n          className=\"upper\"\n          onClick={() => history.push('/productos/nuevo')}\n        >\n          agregar producto\n        </button>\n        {!canCreate && (\n          <div style={{ color: 'darkred' }}>\n            <small>{appConf.user.cantCreateProductMessage}</small>\n          </div>\n        )}\n\n        <h3>Mis Productos</h3>\n        <ProductsList filterProducts=\"Todos\" />\n      </div>\n      <footer className=\"bg-primary left\">\n        <Link to=\"/\" className=\"left upper outlined\">\n          ← Atrás\n        </Link>\n      </footer>\n    </main>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Link, useHistory, useParams } from 'react-router-dom'\nimport { addDays, isAfter } from 'date-fns'\n\n// Styles\nimport './main.css'\n\n// Interfaces\nimport { iProduct, iProductState } from '../../../Interfaces/iDatabase'\n\n// Hooks\nimport { useProducts } from '../../../Hooks/useProducts'\nimport { formatDistance } from 'date-fns'\nimport { es } from 'date-fns/locale'\n\nexport const Detalles: React.FC = () => {\n  const history = useHistory()\n  const [validKey, setValidKey] = useState(false)\n  const [unsaved, setUnsaved] = useState(false)\n  const [product, setProduct] = useState<iProduct | null>(null)\n  const { products, updateProduct } = useProducts()\n  let { id } = useParams<{ id: string }>()\n\n  useEffect(() => {\n    if (!!products) {\n      const item = products.filter(item => item.docID === id)[0] || []\n      if (!!item.publicKeyExpiration) {\n        setValidKey(!isExpiredDate(item.publicKeyExpiration))\n      }\n      setProduct(item)\n    }\n  }, [id, products])\n\n  const handleDescriptionChanges = (\n    event: React.ChangeEvent<HTMLTextAreaElement>\n  ) => {\n    const { name, value } = event.target\n    const updated = { ...product!, [name]: value }\n    setUnsaved(true)\n    setProduct(updated)\n  }\n\n  const handleSaveChange = async () => {\n    await updateProduct(product!.docID, { ...product })\n    setUnsaved(false)\n  }\n\n  const handleChangeSate = async (state: iProductState) => {\n    await updateProduct(product!.docID, { state })\n    setProduct({ ...product!, state })\n  }\n\n  const createShareKey = async () => {\n    const today = new Date()\n    const expiration = addDays(today, 2)\n    const data: Partial<iProduct> = {\n      publicKey: Date.now(),\n      publicKeyExpiration: expiration,\n    }\n    await updateProduct(product!.docID, { ...data })\n    setProduct({ ...product!, ...data })\n  }\n\n  const isExpiredDate = (date: Date): boolean => isAfter(new Date(), date)\n\n  return (\n    <main className=\"product-details\">\n      <div className=\"product-details--top bg-primary border-radius-bottom box-shadow\">\n        <h3>\n          {product?.type} {product?.brand} {product?.model}\n        </h3>\n      </div>\n      <div className=\"product-details-bottom\">\n        <div>\n          <p className={`${product?.state === 'Denunciado' && 'danger'}`}>\n            <b>Estado: </b>\n            {product?.state}\n          </p>\n          <p>\n            <b>Tipo: </b>\n            {product?.type}\n          </p>\n          <p>\n            <b>Marca: </b>\n            {product?.brand}\n          </p>\n          <p>\n            <b>Modelo: </b>\n            {product?.model}\n          </p>\n          <p>\n            <b>N° de Serie: </b>\n            {product?.id}\n          </p>\n          {validKey ? (\n            <p>\n              <b>Llave pública:</b>\n\n              <div\n                style={{ display: 'flex', justifyContent: 'center', gap: 16 }}\n              >\n                <span\n                  className=\"success btn\"\n                  title=\"Compartir con otra persona, ésta podrá ver información de este producto.\"\n                >\n                  {product?.publicKey}\n                </span>\n                <span\n                  className=\"material-icons md-18 btn danger\"\n                  onClick={() => createShareKey()}\n                >\n                  refresh\n                </span>\n              </div>\n            </p>\n          ) : (\n            <p>\n              <button onClick={() => createShareKey()}>\n                Generar llave pública\n              </button>\n            </p>\n          )}\n        </div>\n        <div>\n          {!!product?.transactions &&\n            product.transactions.map((item, index) => (\n              <p key={index} title={`Fecha: ${item.date.toLocaleString()}`}>\n                {`\n                ${item.type}: \n                ${formatDistance(new Date(item.date), new Date(), {\n                  addSuffix: true,\n                  locale: es,\n                })}\n                `}\n                <br />\n                <small>\n                  {item.to ? ` ${item.from} → ${item.to}` : ` ${item.from}`}\n                </small>\n              </p>\n            ))}\n        </div>\n        <div className=\"flex-center\">\n          <label htmlFor=\"description\">Descripción:</label>\n          <textarea\n            onChange={evt => handleDescriptionChanges(evt)}\n            name=\"description\"\n            id=\"description\"\n            value={product?.description}\n            rows={10}\n          ></textarea>\n          {unsaved && (\n            <button\n              onClick={() => handleSaveChange()}\n              className=\"icon successful\"\n            >\n              Guardar Cambios\n              <span className=\"material-icons-outlined\">save_alt</span>\n            </button>\n          )}\n        </div>\n        {!unsaved && (\n          <>\n            <div className=\"flex-center\">\n              {product?.state === 'Normal' && (\n                <>\n                  <button\n                    className=\"icon successful\"\n                    onClick={() => history.push(`/productos/transferir/${id}`)}\n                    title=\"Transfiera la propiedad de este producto a otra persona\"\n                  >\n                    Transferir a otra persona\n                    <span className=\"material-icons-outlined\">\n                      person_add_alt\n                    </span>\n                  </button>\n                  <button\n                    className=\"danger icon\"\n                    title=\"Denunciar robo o extravío de este productos\"\n                    onClick={() => handleChangeSate('Denunciado')}\n                  >\n                    Marcar como Denunciado{' '}\n                    <span className=\"material-icons-outlined\">\n                      error_outline\n                    </span>\n                  </button>\n                </>\n              )}\n\n              <button\n                onClick={() => {\n                  product?.state === 'Normal'\n                    ? handleChangeSate('Desechado')\n                    : handleChangeSate('Normal')\n                }}\n                className=\"icon\"\n              >\n                {product?.state === 'Normal'\n                  ? 'Marcar como desechado'\n                  : 'Volver a estado normal'}\n                <span className=\"material-icons-outlined\">\n                  {product?.state === 'Normal' ? 'delete_outline' : 'recycling'}\n                </span>\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n      <footer className=\"bg-primary left upper\">\n        <Link to=\"/productos\">← Atrás</Link>\n      </footer>\n    </main>\n  )\n}\n","import { Link } from 'react-router-dom'\n\n// Styles\nimport './main.css'\n\nexport const ComoFunciona = () => {\n  return (\n    <main className=\"como-funciona\">\n      <div className=\"como-funciona--top bg-primary flex-center upper box-shadow border-radius-bottom\">\n        <h2>¿Cómo funciona?</h2>\n      </div>\n      <div className=\"como-funciona--bottom\">\n        <p>\n          No es robado es una plataforma en la que podes registrar los productos\n          que compras con sus datos y características distintivas.\n        </p>\n        <p>\n          Esto es útil para cuando alguien se decida a comprar un producto\n          usado, un teléfono, una bicicleta o una notebook por ejemplo, pueda\n          consultar si el vendedor es el dueño del producto, y desde cuando lo\n          es, y si tuvo otros dueños anteriores.\n        </p>\n        <p>\n          El sistema busca generar una traza del producto que garantice la\n          genuina procedencia del mismo, en lo posible desde la tienda o\n          fabricante, hasta el fin de su vida útil.\n        </p>\n        <p>\n          Como funciona el sistema: un producto es cargado al sistema por una\n          tienda, fabricante o por su primer dueño. Cuando es vendido, se\n          transfiere de un propietario a otro y esa operación queda registrada\n          en el historial del producto.\n        </p>\n        <p>\n          Cualquier persona con el número de serie o identificador único del\n          producto puede ver la taza completa del producto.\n        </p>\n        <p>\n          Esta información es muy útil para evitar comprar productos de dudosa\n          procedencia.\n        </p>\n        <p>\n          El sistema será libre y gratuito, y se guardará solo el email y un\n          nombre de los usuarios, garantizando la privacidad de los mismos.\n        </p>\n      </div>\n      <footer className=\"bg-primary left\">\n        <Link to=\"/\" className=\"left upper outlined\">\n          ← Atrás\n        </Link>\n      </footer>\n    </main>\n  )\n}\n","export const Login = () => {\n  return <div>Login</div>\n}\n"],"sourceRoot":""}